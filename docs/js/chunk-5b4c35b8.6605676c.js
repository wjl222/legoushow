(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b4c35b8"],{"0479":function(t,e,s){"use strict";s("27b6")},2096:function(t,e,s){},"27b6":function(t,e,s){},"36e1":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mine"}},[s("van-nav-bar",{attrs:{title:t.navTitle,"left-text":"返回","left-arrow":"",black:""},on:{"click-left":t.returnPage}})],1)},n=[],c={methods:{returnPage:function(){this.$router.back(-1)}},props:{navTitle:{type:String,default:"不凡"}}},a=c,r=(s("c895"),s("2877")),o=Object(r["a"])(a,i,n,!1,null,"4b3ff0eb",null);e["a"]=o.exports},c895:function(t,e,s){"use strict";s("2096")},dbf3:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contain-c"},[s("Nav"),s("div",{staticClass:"searchInputCon"},[s("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{input:t.getSearchKeyList},model:{value:t.inptVal,callback:function(e){t.inptVal=e},expression:"inptVal"}}),s("p",{on:{click:t.cancelSearch}},[t._v("取消")])],1),t.isSearchPromptShow?s("div",{staticClass:"search-prompt-con"},[t._l(t.searchPromptList,(function(e,i){return s("div",{key:i,staticClass:"search-promptList",on:{click:function(s){return t.saveRecord(e)}}},[t._v(" "+t._s(e.name)+" ")])})),t.searchPromptList.length?t._e():s("div",{staticClass:"noneSearchPromptList"},[t._v(" 数据库暂时没有此类商品 ")])],2):t._e(),t.isHistoryShow?s("div",{staticClass:"history"},[s("div",{staticClass:"t"},[s("p",[t._v("历史记录")]),s("van-icon",{attrs:{name:"delete-o",size:"20"},on:{click:t.clearHistorySearchBtn}})],1),t.isSuccessRequest?s("div",{staticClass:"b"},t._l(t.requestList.historyData,(function(e){return s("div",{key:e.id},[t._v(" "+t._s(e.keyword)+" ")])})),0):t._e()]):t._e(),t.isSearchPromptShow?t._e():s("div",{staticClass:"hot-search"},[s("span",{staticClass:"title"},[t._v("热门搜索")]),t.isSuccessRequest?s("div",{staticClass:"hot-search-list"},t._l(t.requestList.hotKeywordList,(function(e){return s("div",{key:e.id,class:t.isHot(e),on:{click:function(s){return t.hotSearchBtn(e)}}},[t._v(" "+t._s(e.keyword)+" ")])})),0):t._e()])],1)},n=[],c=s("5530"),a=s("36e1"),r=s("2f3b"),o={data:function(){return{requestList:{},isSuccessRequest:!1,inptVal:"",searchPromptList:[],openIdParams:""}},methods:{initRequest:function(){var t=this,e=window.localStorage.getItem("openId"),s={openId:e};this.openIdParams=s,Object(r["e"])(s).then((function(e){t.isSuccessRequest=!0,t.requestList=e}))},getSearchKeyList:function(){var t=this,e={keyword:this.inptVal,order:"desc"};Object(r["g"])(e).then((function(e){t.searchPromptList=e.keywords}))},clearHistorySearchBtn:function(){var t=this;Object(r["b"])(this.openIdParams).then((function(e){"清除成功"==e.data&&t.initRequest()}))},saveRecord:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",i=Object(c["a"])(Object(c["a"])({},this.openIdParams),{},{keyword:t[s]});Object(r["i"])(i).then((function(t){"success"==t.data&&e.initRequest()}))},cancelSearch:function(){this.inptVal=""},hotSearchBtn:function(t){this.inptVal=t.keyword,this.saveRecord(t,"keyword")}},computed:{isHistoryShow:function(){return this.isSuccessRequest&&this.requestList.historyData.length&&!this.inptVal},isHot:function(){return function(t){return 1==t.is_hot?"is-hot":""}},isSearchPromptShow:function(){return!!this.inptVal}},components:{Nav:a["a"]},created:function(){this.initRequest()}},u=o,h=(s("0479"),s("2877")),l=Object(h["a"])(u,i,n,!1,null,"7a0d069a",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-5b4c35b8.6605676c.js.map